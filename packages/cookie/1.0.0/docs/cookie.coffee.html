<!DOCTYPE html>
<html>
<head>
<title>Lovely.IO Â» cookie:cookie.coffee</title>
<meta charset='utf-8'>
<link href="/stylesheets/application.css?1366457277" media="screen" rel="stylesheet" type="text/css" />
<script src="http://cdn.lovely.io/core-1.4.1.js" type="text/javascript"></script>
<script src="http://cdn.lovely.io/dom-1.4.4.js" type="text/javascript"></script>
<script src="http://cdn.lovely.io/colorifier-1.4.0.js" type="text/javascript"></script>
<script src="/javascripts/application.js?1357462199" type="text/javascript"></script>

<link href="/news.atom" rel="alternate" title="Lovely.IO News" type="application/atom+xml" />
<link href="/packages/updated.atom" rel="alternate" title="Lovely.IO Packages" type="application/atom+xml" />
</head>
<body class='packages packages-docs'>
<header>
<h1><a href="/">Lovely.IO</a></h1>
<h2>The Next Generation of Front-Side</h2>
<form action='/packages/search' id='search' method='get'>
<input name='search' placeholder='Search' type='text'>
</form>

<nav>
<a href="/packages">Packages</a>
|
<a href="/live" class="live">Demo!</a>
|
<a href="/show">TV Show</a>
|
<a href="/news">News</a>
|
<a href="http://github.com/lovely-io/lovely.io-stl/wiki">Wiki</a>
|
<a href="/profile" id="profile">Profile</a>
<a href="/login" id="login">Log In</a>

</nav>
</header>
<section>
<h1><a href="/packages/cookie">cookie</a>:cookie.coffee</h1>
<select id="docs-index" name="docs-index" onchange="document.location = this.value;"><option value="/packages/cookie/1.0.0/docs/cookie.coffee" selected="selected">cookie.coffee</option>
<option value="/packages/cookie/1.0.0/docs/main.coffee">main.coffee</option></select>

        <table class="api-doc"><tr><td><a href='#1' name='1'></a><p>The main Coookie class</p>

<p>Copyright (C) 2011 Nikolay Nemshilov</p>
</td><td><pre data-lang='coffee'>class Cookie&#x000A;  extend:</pre></td></tr>
<tr><td><a href='#2' name='2'></a>
<p>Sets the coookie</p>

<section class='api'><div><strong>@param </strong><em></em><a href="#" class="api-ref">String</a> cookie name
</div><div><strong>@param </strong><em></em><a href="#" class="api-ref">mixed</a> cookie value
</div><div><strong>@param </strong><em></em><a href="#" class="api-ref">Object</a> options
</div><div><strong>@return </strong><em></em><a href="/packages/cookie/1.0.0/docs/cookie.coffee" class="api-ref">Cookie</a> object</div></section>
</td><td><pre data-lang='coffee'>    set: (name, value, options)-&gt;&#x000A;      new Cookie(name, options).set(value)</pre></td></tr>
<tr><td><a href='#3' name='3'></a>
<p>Reads a cookie by name</p>

<section class='api'><div><strong>@param </strong><em></em><a href="#" class="api-ref">String</a> cookie name
</div><div><strong>@return </strong><em></em><a href="#" class="api-ref">mixed</a>|<a href="#" class="api-ref">undefined</a> cookie value or <tt>undefined</tt> if not set</div></section>
</td><td><pre data-lang='coffee'>    get: (name, options)-&gt;&#x000A;      new Cookie(name).get()</pre></td></tr>
<tr><td><a href='#4' name='4'></a>
<p>Removes the cookie</p>

<section class='api'><div><strong>@param </strong><em></em><a href="#" class="api-ref">String</a> cookie name
</div><div><strong>@param </strong><em></em><a href="#" class="api-ref">Object</a> options
</div><div><strong>@return </strong><em></em><a href="/packages/cookie/1.0.0/docs/cookie.coffee" class="api-ref">Cookie</a> object</div></section>
</td><td><pre data-lang='coffee'>    remove: (name, options)-&gt;&#x000A;      new Cookie(name, options).remove()</pre></td></tr>
<tr><td><a href='#5' name='5'></a>
<p>Checks if cookies are enabled in the browser</p>

<section class='api'><div><strong>@return </strong><em></em><a href="#" class="api-ref">Boolean</a> check result</div></section>
</td><td><pre data-lang='coffee'>    enabled: -&gt;&#x000A;      Cookie.Options.document.cookie = "__t=1"&#x000A;      Cookie.Options.document.cookie.indexOf("__t=1") isnt -1</pre></td></tr>
<tr><td><a href='#6' name='6'></a>
<p>Default options</p>
</td><td><pre data-lang='coffee'>    Options:&#x000A;      document: document&#x000A;      secure:   false&#x000A;      domain:   null&#x000A;      path:     null&#x000A;      ttl:      null # in days</pre></td></tr>
<tr><td><a href='#7' name='7'></a>
<p>Basic constructor</p>

<section class='api'><div><strong>@param </strong><em></em><a href="#" class="api-ref">String</a> cookie name
</div><div><strong>@param </strong><em></em><a href="#" class="api-ref">Object</a> options
</div><div><strong>@return </strong><em></em><a href="/packages/cookie/1.0.0/docs/cookie.coffee" class="api-ref">Cookie</a> this</div></section>
</td><td><pre data-lang='coffee'>  constructor: (name, options)-&gt;&#x000A;    @options = ext(ext({}, Cookie.Options), options)&#x000A;    @name    = name&#x000A;    return @</pre></td></tr>
<tr><td><a href='#8' name='8'></a>
<p>Sets the cookie with the name</p>

<section class='api'><div><strong>@param </strong><em></em><a href="#" class="api-ref">mixed</a> value
</div><div><strong>@return </strong><em></em>Cookie this</div></section>
</td><td><pre data-lang='coffee'>  set: (data)-&gt;&#x000A;    data = JSON.stringify(data) if typeof(data) is 'object'&#x000A;    data = escape(data)&#x000A;&#x000A;    @options.domain && data += '; domain='+ @options.domain&#x000A;    @options.path   && data += '; path='+   @options.path&#x000A;    @options.secure && data += '; secure'&#x000A;&#x000A;    if @options.ttl&#x000A;      date = new Date()&#x000A;      date.setTime(date.getTime() + @options.ttl * 24 * 60 * 60 * 1000)&#x000A;      data += '; expires='+ date.toGMTString()&#x000A;&#x000A;    @options.document.cookie = "#{escape(@name)}=#{data}"&#x000A;&#x000A;    return @</pre></td></tr>
<tr><td><a href='#9' name='9'></a>
<p>Searches for a cookie with the name</p>

<section class='api'><div><strong>@return </strong><em></em><a href="#" class="api-ref">mixed</a> saved value or <tt>undefined</tt> if nothing was set</div></section>
</td><td><pre data-lang='coffee'>  get: -&gt;&#x000A;    name = escape(@name)&#x000A;    name = "(?:^|;)\\s*#{name.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g, '\\$1')}=([^;]*)"&#x000A;    data = @options.document.cookie.match(name)&#x000A;&#x000A;    if data&#x000A;      data = unescape(data[1])&#x000A;      try data = JSON.parse(data) catch e&#x000A;&#x000A;    data || undefined</pre></td></tr>
<tr><td><a href='#10' name='10'></a>
<p>Removes the cookie</p>

<section class='api'><div><strong>@return </strong><em></em><a href="/packages/cookie/1.0.0/docs/cookie.coffee" class="api-ref">Cookie</a> this</div></section>
</td><td><pre data-lang='coffee'>  remove: -&gt;&#x000A;    unless @get() is undefined&#x000A;      @options.ttl = -1&#x000A;      @set('')&#x000A;&#x000A;    return @</pre></td></tr></table>
      
<p class='bottom-links'>
<a href="/packages/cookie/1.0.0/docs" class="back">Index</a>
</p>

<div class='clear'></div>
</section>
<footer>
Copyright (C) 2011-2013
<a href="http://nikolay.theosom.com">Nikolay Nemshilov</a>
<nav>
<a href="/terms">Terms of Use</a>
|
<a href="/about">About</a>
</nav>
</footer>
</body>
</html>
